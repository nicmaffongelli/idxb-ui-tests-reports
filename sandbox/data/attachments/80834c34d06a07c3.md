# Test info

- Name: Run these test in serial mode for each user >> Delete All Contacts - User: Client-Engage-1-Existing
- Location: /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/07_account/07_contacts/contacts.spec.ts:27:13

# Error details

```
TimeoutError: locator.click: Timeout 20000ms exceeded.
Call log:
  - waiting for getByRole('button', { name: 'Yes' })

    at ManageContactsPage.deleteSelectedContacts (/opt/atlassian/pipelines/agent/build/src/page-objects/client/07_account/07_contacts/ManageContactsPage.ts:41:36)
    at /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/07_account/07_contacts/contacts.spec.ts:37:13
```

# Page snapshot

```yaml
- navigation:
  - link "IDX Broker":
    - /url: /mgmt/dashboard
    - img "IDX Broker"
  - list:
    - listitem:
      - text: Sandbox
      - strong: "Signed in as:"
      - text: Nic (3265)
    - listitem:
      - text: "12"
      - img
- text: Notifications
- button "Clear All"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- navigation:
  - list:
    - listitem: Home +
    - listitem: Leads +
    - listitem: Listings +
    - listitem: Messages +
    - listitem:
      - link "MLS":
        - /url: /mgmt/mls-membership
    - listitem: Design +
    - listitem: Account -
    - listitem: Support +
- heading "Contacts Manage account contacts" [level=1]
- link "Create Contact":
  - /url: /mgmt/contacts/create
- grid:
  - text: Show
  - combobox "Show entries":
    - option "10" [selected]
    - option "25"
    - option "50"
    - option "100"
  - text: "entries Search:"
  - textbox "Search:"
  - table:
    - rowgroup:
      - 'row "First Name: activate to sort column ascending Last Name: activate to sort column ascending Email: activate to sort column ascending Contact Type: activate to sort column descending Date Created: activate to sort column ascending Tools"':
        - columnheader:
          - checkbox [checked]
        - 'columnheader "First Name: activate to sort column ascending"': First Name
        - 'columnheader "Last Name: activate to sort column ascending"': Last Name
        - 'columnheader "Email: activate to sort column ascending"': Email
        - 'columnheader "Contact Type: activate to sort column descending"': Contact Type
        - 'columnheader "Date Created: activate to sort column ascending"': Date Created
        - columnheader "Tools"
    - alert:
      - row "Qa UiAutomation idxbqa@gmail.com Billing 06/05/25 03:04pm    ":
        - cell:
          - checkbox
        - cell "Qa"
        - cell "UiAutomation"
        - cell "idxbqa@gmail.com"
        - cell "Billing"
        - cell "06/05/25 03:04pm"
        - cell "   ":
          - link "":
            - /url: /mgmt/contacts/20069/edit
          - text:   
  - text: Showing 1 to 1 of 1 entries
  - list:
    - listitem:
      - link "← Previous":
        - /url: "#"
    - listitem:
      - link "1":
        - /url: "#"
    - listitem:
      - link "Next →":
        - /url: "#"
- paragraph:
  - text: "With selected:"
  - link "Delete Contacts":
    - /url: "#bulkActionForm"
- paragraph:
  - text: Services © 2025
  - link "IDX Broker":
    - /url: https://www.idxbroker.com
  - text: . All rights reserved.
```

# Test source

```ts
   1 | import { Page, Locator, expect, BasePage } from '@shared-client-imports';
   2 |
   3 | export class ManageContactsPage extends BasePage {
   4 |   // Page elements as private properties
   5 |   private readonly selectAllCheckbox: Locator;
   6 |   private readonly deleteContactsLink: Locator;
   7 |   private readonly confirmDeleteButton: Locator;
   8 |   private readonly successMessage: Locator;
   9 |
  10 |   /**
  11 |    * Constructor initializes all page elements
  12 |    * @param page Playwright page object
  13 |    */
  14 |   constructor(page: Page) {
  15 |     super(page);
  16 |     this.selectAllCheckbox = page.locator('#checkAll');
  17 |     this.deleteContactsLink = page.getByRole('link', { name: 'Delete Contacts' });
  18 |     this.confirmDeleteButton = page.getByRole('button', { name: 'Yes' });
  19 |     this.successMessage = page.locator('#jGrowl');
  20 |   }
  21 |
  22 |   /**
  23 |    * Go to directly to the Create Lead page
  24 |    */
  25 |   async goto(){
  26 |     await this.page.goto(this.globalAndEnvironmentVariables.MW_BASE_URL + '/mgmt/contacts');
  27 |   }
  28 |
  29 |   /**
  30 |    * Select all contacts using the checkbox in the header
  31 |    */
  32 |   async selectAllContacts(): Promise<void> {
  33 |     await this.selectAllCheckbox.check();
  34 |   }
  35 |
  36 |   /**
  37 |    * Delete all selected contacts
  38 |    */
  39 |   async deleteSelectedContacts(): Promise<void> {
  40 |     await this.deleteContactsLink.click();
> 41 |     await this.confirmDeleteButton.click();
     |                                    ^ TimeoutError: locator.click: Timeout 20000ms exceeded.
  42 |   }
  43 |
  44 |     /**
  45 |      * Verify a specific success message is shown in the jGrowl notification
  46 |      * @param expectedMessage The expected message text to verify
  47 |      */
  48 |     async verifySuccessMessage(): Promise<void> {
  49 |         // Verify the text matches what we expect
  50 |         await expect(this.successMessage).toContainText('All contacts you selected have been deleted.');
  51 |     }
  52 |   
  53 | }
```