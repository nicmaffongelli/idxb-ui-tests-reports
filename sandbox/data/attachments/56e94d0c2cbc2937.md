# Test info

- Name: User: Client-Engage-1-Existing >> Save Details Settings - User: Client-Engage-1-Existing
- Location: /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/06_design/04_settings/01_global/globalPreferences.spec.ts:23:13

# Error details

```
TimeoutError: locator.dblclick: Timeout 20000ms exceeded.
Call log:
  - waiting for getByRole('link', { name: 'Details' })

    at DetailsTabPage.navigateToDetailsTab (/opt/atlassian/pipelines/agent/build/src/page-objects/client/06_design/04_settings/01_global/DetailsTabPage.ts:23:64)
    at /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/06_design/04_settings/01_global/globalPreferences.spec.ts:25:63
```

# Page snapshot

```yaml
- navigation:
  - link "IDX Broker":
    - /url: /mgmt/dashboard
    - img "IDX Broker"
  - list:
    - listitem
- text: Notifications
- strong: You’re all caught up! Keep an eye out for new notifications. We’ll post them here.
- navigation:
  - list:
    - listitem
    - listitem
    - listitem
- paragraph:
  - text: Services © 2025
  - link "IDX Broker":
    - /url: https://www.idxbroker.com
  - text: . All rights reserved.
- status
```

# Test source

```ts
   1 | import { Page, Locator, expect } from '@playwright/test';
   2 |
   3 | export class DetailsTabPage {
   4 |     private readonly mapTypeSelect: Locator;
   5 |     private readonly displayGreatSchoolsRadioEnable: Locator;
   6 |     private readonly displayWalkscoreWidgetSelect: Locator;
   7 |     private readonly detailsSaveButton: Locator;
   8 |     private readonly notificationMessage: Locator;
   9 |
  10 |     constructor(private readonly page: Page) {
  11 |         // Details tab elements
  12 |         this.mapTypeSelect = page.getByLabel('Map Type', { exact: true });
  13 |         this.displayGreatSchoolsRadioEnable = page.getByRole('radio', { name: 'Enable' });
  14 |         this.displayWalkscoreWidgetSelect = page.getByLabel('Display Walk Score Widget');
  15 |         this.detailsSaveButton = page.locator('#details-form button.btn-primary');
  16 |         this.notificationMessage = page.locator('#jGrowl');
  17 |     }
  18 |
  19 |     /**
  20 |      * Navigate to the Details tab
  21 |      */
  22 |     async navigateToDetailsTab(): Promise<void> {
> 23 |         await this.page.getByRole('link', { name: 'Details' }).dblclick();
     |                                                                ^ TimeoutError: locator.dblclick: Timeout 20000ms exceeded.
  24 |         // Wait for the details form to be visible
  25 |         await this.page.waitForSelector('#details-form', { state: 'visible' });
  26 |     }
  27 |
  28 |     /**
  29 |      * Set Map Type in Details tab
  30 |      * @param mapType The map type to select (none or standard)
  31 |      */
  32 |     async setMapType(mapType: 'none' | 'standard'): Promise<void> {
  33 |         await this.mapTypeSelect.selectOption(mapType);
  34 |     }
  35 |
  36 |     /**
  37 |      * Enable Great Schools in Details tab
  38 |      */
  39 |     async enableGreatSchools(): Promise<void> {
  40 |         await this.displayGreatSchoolsRadioEnable.check();
  41 |     }
  42 |
  43 |     /**
  44 |      * Set Walk Score Widget position in Details tab
  45 |      * @param position The position to set (none, afterFields, or beforeFields)
  46 |      */
  47 |     async setWalkScoreWidgetPosition(position: 'none' | 'afterFields' | 'beforeFields'): Promise<void> {
  48 |         await this.displayWalkscoreWidgetSelect.selectOption(position);
  49 |     }
  50 |
  51 |     /**
  52 |      * Save details tab settings and verify success message
  53 |      */
  54 |     async saveDetailsSettings(): Promise<void> {
  55 |         await this.detailsSaveButton.click();
  56 |         await this.verifySuccessMessage('Details Page Settings have been saved.');
  57 |     }
  58 |
  59 |     /**
  60 |      * Verify success message after saving settings
  61 |      * @param expectedMessage The expected success message text
  62 |      */
  63 |     private async verifySuccessMessage(expectedMessage: string): Promise<void> {
  64 |         await expect(this.notificationMessage).toContainText(expectedMessage);
  65 |     }
  66 | } 
```