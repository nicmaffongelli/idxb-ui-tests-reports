# Test info

- Name: Type of user: Client >> MW Menu: Design >> Sub-menu: Branding - Colors >> Client can modify and save branding colors. Branding colors are displayed as expected in FE search page - Client: engage_new
- Location: /opt/atlassian/pipelines/agent/build/tests/specs/clients/design/branding/brandingColors.spec.ts:16:17

# Error details

```
Error: expect(Buffer).toMatchSnapshot(expected)

  152521 pixels (ratio 0.17 of all image pixels) are different.

Expected: /opt/atlassian/pipelines/agent/build/tests/specs/clients/design/branding/brandingColors.spec.ts-snapshots/sandbox-advanced-search-Chrome-linux.png
Received: /opt/atlassian/pipelines/agent/build/test-results/specs-clients-design-brand-0bb3d-ch-page---Client-engage-new-Chrome-retry1/sandbox-advanced-search-actual.png
    Diff: /opt/atlassian/pipelines/agent/build/test-results/specs-clients-design-brand-0bb3d-ch-page---Client-engage-new-Chrome-retry1/sandbox-advanced-search-diff.png

    at /opt/atlassian/pipelines/agent/build/tests/specs/clients/design/branding/brandingColors.spec.ts:35:36
```

# Page snapshot

```yaml
- navigation:
  - link "Advanced Search":
    - /url: https://qatest1746204097646.idxsandbox.com/idx/search/advanced
  - link "Listing ID":
    - /url: https://qatest1746204097646.idxsandbox.com/idx/search/listingid
  - link "Address":
    - /url: https://qatest1746204097646.idxsandbox.com/idx/search/address
  - link "AI Smart Search":
    - /url: https://qatest1746204097646.idxsandbox.com/idx/search/smart
  - link "Map Search":
    - /url: https://qatest1746204097646.idxsandbox.com/idx/map/mapsearch
  - separator
- text: Location
- textbox "Location"
- combobox:
  - list:
    - listitem:
      - textbox "City, County or Postal Code"
- text: Property Type
- combobox "Residential"
- text: Must Include
- combobox:
  - list:
    - listitem:
      - textbox "Image, Virtual Tour, Virtual Open House, Open House, Featured"
- button "Search"
- text: Data services provided by
- link "IDX Broker":
  - /url: https://www.idxbroker.com/
```

# Test source

```ts
   1 | import { expect } from '@playwright/test';
   2 | import { test } from '../../../../fixtures/usersFixture';
   3 | //import { USER_GROUPS_CONFIG } from '../../../../fixtures/userGroupsConfig';
   4 | import { EnvConfig } from '../../../../../env/env';
   5 | import * as allure from "allure-js-commons";
   6 |
   7 | const envConfig = EnvConfig.get();
   8 |
   9 | //const clientsGroup = USER_GROUPS_CONFIG[envConfig.USER_GROUP];
  10 |
  11 | test.describe('Type of user: Client', () => {
  12 |     test.describe('MW Menu: Design', () => {
  13 |         test.describe('Sub-menu: Branding - Colors', () => {
  14 |             test.use({ storageState: envConfig.clients.engageNew.storageState });
  15 |
  16 |             test(`Client can modify and save branding colors. Branding colors are displayed as expected in FE search page - Client: engage_new`, async ({ client }) => {
  17 |                 await allure.epic("Type of user: Client");
  18 |                 await allure.feature("MW Menu: Design");
  19 |                 await allure.story("Sub-menu: Branding -> Colors");
  20 |                 
  21 |                 await client.brandingColorsPage.goto();
  22 |                 await client.brandingColorsPage.setPrimaryColor('#D6823D');
  23 |                 await client.brandingColorsPage.setPrimaryButtonColor('#24D69B');
  24 |                 await client.brandingColorsPage.setSecondaryColor('#D6823D');
  25 |                 await client.brandingColorsPage.setSecondaryButtonColor('#4A97B0');
  26 |                 await client.brandingColorsPage.saveChanges();
  27 |                 
  28 |                 const feURL = `https://${envConfig.clients.engageNew.domain}.${envConfig.URL_ENV_PART}.com/idx/search/address`;
  29 |                 const frontEndPage = await client.pageTemplatesPage.gotoFePage(feURL);
  30 |                 
  31 |                 const screenshot = await frontEndPage.screenshot({
  32 |                     mask: [client.brandingColorsPage.getDisclaimerForMasking()]
  33 |                 });
  34 |                 const baseLineScreenshotPath = `${envConfig.ENVIRONMENT}-advanced-search.png`;
> 35 |                 expect(screenshot).toMatchSnapshot(baseLineScreenshotPath); 
     |                                    ^ Error: expect(Buffer).toMatchSnapshot(expected)
  36 |                                 
  37 |                         });     
  38 |                 });
  39 |             });  
  40 |     });
  41 |
  42 |
```