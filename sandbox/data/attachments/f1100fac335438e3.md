# Test info

- Name: Run these test in serial mode for each user >> Create Agent - User: Client-Engage-1-Existing
- Location: /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/07_account/04_users/agents.spec.ts:16:13

# Error details

```
TimeoutError: locator.click: Timeout 20000ms exceeded.
Call log:
  - waiting for getByRole('link', { name: 'View All' })

    at AddAgentPage.goToManageAgentsPage (/opt/atlassian/pipelines/agent/build/src/page-objects/client/07_account/04_users/AddAgentPage.ts:169:34)
    at /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/07_account/04_users/agents.spec.ts:29:39
```

# Page snapshot

```yaml
- navigation:
  - link "IDX Broker":
    - /url: /mgmt/dashboard
    - img "IDX Broker"
  - list:
    - listitem:
      - text: Sandbox
      - strong: "Signed in as:"
      - text: Nic (3265)
    - listitem:
      - text: "12"
      - img
- text: Notifications
- button "Clear All"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- navigation:
  - list:
    - listitem: Home +
    - listitem: Leads +
    - listitem: Listings +
    - listitem: Messages +
    - listitem:
      - link "MLS":
        - /url: /mgmt/mls-membership
    - listitem: Design +
    - listitem: Account -
    - listitem: Support +
- heading "Add Agent" [level=1]
- list:
  - listitem:
    - link "Account / Contact":
      - /url: "#accountContact"
  - listitem:
    - link "Office":
      - /url: "#officeMembership"
  - listitem:
    - link "Photo":
      - /url: "#photo"
  - listitem:
    - link "MLS":
      - /url: "#mls"
  - listitem:
    - link "Sub-Header":
      - /url: "#agentSubheader"
  - listitem:
    - link "Permissions":
      - /url: "#permissions"
  - listitem:
    - link "Roster":
      - /url: "#roster"
  - listitem:
    - link "Property Update":
      - /url: "#propertyUpdate"
  - listitem:
    - link "Languages":
      - /url: "#languages"
  - listitem:
    - link "CRM Integration":
      - /url: "#crmIntegration"
- heading "Account / Contact" [level=2]
- paragraph: Setup the basic contact information for this agent as well.
- group "Account Information":
  - text: Account Information Email*
  - textbox "Email*": idxqamv+1749268966153@gmail.com
  - text: Password*
  - link:
    - /url: "#"
  - textbox "Password*": 123456Asd!@#
  - text:  Contact Information First Name
  - link:
    - /url: "#"
  - textbox "First Name": Qa
  - text: Last Name
  - link:
    - /url: "#"
  - textbox "Last Name": UiAutomation
  - text: Display Name
  - link:
    - /url: "#"
  - textbox "Display Name": QaUiAutomation
  - text: Title/Description
  - link:
    - /url: "#"
  - textbox "Title/Description": DONT TOUCH
  - separator
  - text: Role
  - link:
    - /url: "#"
  - combobox "Role Role":
    - option "Agent/Broker" [selected]
    - option "Management"
    - option "Staff"
  - text: Address
  - textbox "Address": 3562 SE Harrison St
  - text: City
  - textbox "City": Portland
  - text: State/Province
  - textbox "State/Province": Oregon
  - text: Zip Code
  - textbox "Zip Code": "97214"
  - text: Country
  - textbox "Country": United States
  - separator
  - text: Home Phone
  - textbox "Home Phone": "1001001002"
  - text: Home Fax
  - textbox "Home Fax"
  - text: Cell Phone
  - textbox "Cell Phone": "3055405076"
  - text: Office Phone
  - textbox "Office Phone": "1001001001"
  - text: Office Fax
  - textbox "Office Fax"
  - text: Pager
  - textbox "Pager"
  - text: Preferred Phone
  - combobox "Preferred Phone":
    - option "Cell Phone" [selected]
    - option "Home Phone"
    - option "Office Phone"
  - text: SMS Alerts Opt-In
  - radio "Yes" [checked]
  - text: "Yes"
  - radio "No"
  - text: No Phone
  - textbox "Phone": "+13055405076"
  - text: Bio Information Bio Page Details
  - link:
    - /url: "#"
  - table:
    - rowgroup:
      - row "Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X Format Font family Font size Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X":
        - cell "Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X Format Font family Font size Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X":
          - link "Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X":
            - /url: "#"
          - table:
            - rowgroup:
              - row "Format Font family Font size":
                - cell
                - cell:
                  - link "Bold (Ctrl+B)":
                    - /url: javascript:;
                - cell:
                  - link "Italic (Ctrl+I)":
                    - /url: javascript:;
                - cell:
                  - link "Underline (Ctrl+U)":
                    - /url: javascript:;
                - cell:
                  - link "Strikethrough":
                    - /url: javascript:;
                - cell
                - cell:
                  - link "Insert horizontal ruler":
                    - /url: javascript:;
                - cell
                - cell:
                  - link "Subscript":
                    - /url: javascript:;
                - cell:
                  - link "Superscript":
                    - /url: javascript:;
                - cell
                - cell:
                  - link "Align full":
                    - /url: javascript:;
                - cell
                - cell "Format":
                  - table:
                    - rowgroup:
                      - row "Format":
                        - cell "Format":
                          - link "Format":
                            - /url: javascript:;
                        - cell:
                          - link:
                            - /url: javascript:;
                - cell "Font family":
                  - table:
                    - rowgroup:
                      - row "Font family":
                        - cell "Font family":
                          - link "Font family":
                            - /url: javascript:;
                        - cell:
                          - link:
                            - /url: javascript:;
                - cell "Font size":
                  - table:
                    - rowgroup:
                      - row "Font size":
                        - cell "Font size":
                          - link "Font size":
                            - /url: javascript:;
                        - cell:
                          - link:
                            - /url: javascript:;
                - cell
                - cell:
                  - table "Unordered list":
                    - rowgroup:
                      - row:
                        - cell:
                          - link "Unordered list":
                            - /url: javascript:;
                        - cell:
                          - link "Unordered list":
                            - /url: javascript:;
                - cell:
                  - table "Ordered list":
                    - rowgroup:
                      - row:
                        - cell:
                          - link "Ordered list":
                            - /url: javascript:;
                        - cell:
                          - link "Ordered list":
                            - /url: javascript:;
                - cell
                - cell:
                  - link "Outdent":
                    - /url: javascript:;
                - cell:
                  - link "Indent":
                    - /url: javascript:;
                - cell:
                  - link "Blockquote":
                    - /url: javascript:;
                - cell
                - cell:
                  - link "Help":
                    - /url: javascript:;
                - cell:
                  - link "Edit HTML Source":
                    - /url: javascript:;
                - cell
          - table:
            - rowgroup:
              - row:
                - cell
                - cell:
                  - link "Undo (Ctrl+Z)":
                    - /url: javascript:;
                - cell:
                  - link "Redo (Ctrl+Y)":
                    - /url: javascript:;
                - cell
                - cell:
                  - link "Align left":
                    - /url: javascript:;
                - cell:
                  - link "Align center":
                    - /url: javascript:;
                - cell:
                  - link "Align right":
                    - /url: javascript:;
                - cell
                - cell:
                  - link "Insert/edit link":
                    - /url: javascript:;
                - cell:
                  - link "Unlink":
                    - /url: javascript:;
                - cell:
                  - link "Insert/edit anchor":
                    - /url: javascript:;
                - cell:
                  - link "Insert/edit image":
                    - /url: javascript:;
                - cell:
                  - link "Cleanup messy code":
                    - /url: javascript:;
                - cell:
                  - link "Toggle guidelines/invisible elements":
                    - /url: javascript:;
                - cell
                - cell:
                  - link "Insert date":
                    - /url: javascript:;
                - cell:
                  - link "Insert time":
                    - /url: javascript:;
                - cell
                - cell:
                  - table "Select text color":
                    - rowgroup:
                      - row:
                        - cell:
                          - link "Select text color":
                            - /url: javascript:;
                        - cell:
                          - link "Select text color":
                            - /url: javascript:;
                - cell:
                  - table "Select background color":
                    - rowgroup:
                      - row:
                        - cell:
                          - link "Select background color":
                            - /url: javascript:;
                        - cell:
                          - link "Select background color":
                            - /url: javascript:;
                - cell
                - cell:
                  - link "Insert new layer":
                    - /url: javascript:;
                - cell:
                  - link "Move forward":
                    - /url: javascript:;
                - cell:
                  - link "Move backward":
                    - /url: javascript:;
                - cell:
                  - link "Toggle absolute positioning":
                    - /url: javascript:;
                - cell
                - cell:
                  - link "Citation":
                    - /url: javascript:;
                - cell:
                  - link "Abbreviation":
                    - /url: javascript:;
                - cell:
                  - link "Acronym":
                    - /url: javascript:;
                - cell:
                  - link "Deletion":
                    - /url: javascript:;
                - cell:
                  - link "Insertion":
                    - /url: javascript:;
                - cell:
                  - link "Insert/Edit Attributes":
                    - /url: javascript:;
                - cell
                - cell:
                  - link "Insert non-breaking space character":
                    - /url: javascript:;
                - cell
          - link "Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X":
            - /url: "#"
      - row:
        - cell:
          - iframe
      - row "Path:":
        - cell "Path:":
          - text: "Path:"
          - link:
            - /url: "#"
          - link:
            - /url: javascript:;
  - button "Turn WYSIWYG Off"
  - button "Save Changes"
  - button "Reset"
- paragraph:
  - text: Services © 2025
  - link "IDX Broker":
    - /url: https://www.idxbroker.com
  - text: . All rights reserved.
- status
```

# Test source

```ts
   69 |     /**
   70 |      * Fill in the basic required account/contact information
   71 |      * @param agentInfo - Object containing agent information
   72 |      */
   73 |     async fillAccountContactInfo(agentInfo: {
   74 |         email: string,
   75 |         password: string,
   76 |         firstName: string,
   77 |         lastName: string,
   78 |         displayName: string,
   79 |         title: string,
   80 |         role: 'agent' | 'management' | 'staff',
   81 |         address?: string,
   82 |         city?: string,
   83 |         state?: string,
   84 |         zip?: string,
   85 |         country?: string,
   86 |         homePhone?: string,
   87 |         cellPhone?: string,
   88 |         officePhone?: string,
   89 |         preferredPhone?: 'agentCellPhone' | 'agentHomePhone' | 'agentOfficePhone',
   90 |         enableSmsAlerts?: boolean,
   91 |         smsAlertPhone?: string
   92 |     }) {
   93 |         // Fill required fields
   94 |         await this.emailField.fill(agentInfo.email);
   95 |         await this.passwordField.fill(agentInfo.password);
   96 |         await this.firstNameField.fill(agentInfo.firstName);
   97 |         await this.lastNameField.fill(agentInfo.lastName);
   98 |         await this.displayNameField.fill(agentInfo.displayName);
   99 |         await this.titleField.fill(agentInfo.title);
  100 |         await this.roleDropdown.selectOption(agentInfo.role);
  101 |
  102 |         // Fill optional fields if provided
  103 |         if (agentInfo.address) await this.addressField.fill(agentInfo.address);
  104 |         if (agentInfo.city) await this.cityField.fill(agentInfo.city);
  105 |         if (agentInfo.state) await this.stateField.fill(agentInfo.state);
  106 |         if (agentInfo.zip) await this.zipField.fill(agentInfo.zip);
  107 |         if (agentInfo.country) await this.countryField.fill(agentInfo.country);
  108 |         if (agentInfo.homePhone) await this.homePhoneField.fill(agentInfo.homePhone);
  109 |         if (agentInfo.cellPhone) await this.cellPhoneField.fill(agentInfo.cellPhone);
  110 |         if (agentInfo.officePhone) await this.officePhoneField.fill(agentInfo.officePhone);
  111 |         
  112 |         // Set preferred phone if provided
  113 |         if (agentInfo.preferredPhone) {
  114 |             await this.preferredPhoneDropdown.selectOption(agentInfo.preferredPhone);
  115 |         }
  116 |         
  117 |         // Configure SMS alerts if needed
  118 |         if (agentInfo.enableSmsAlerts) {
  119 |             await this.smsOptInRadioYes.check();
  120 |             if (agentInfo.smsAlertPhone) {
  121 |                 await this.smsAlertPhoneField.fill(agentInfo.smsAlertPhone);
  122 |             }
  123 |         }
  124 |     }
  125 |
  126 |     /**
  127 |      * Fill in the basic required account/contact information with default values
  128 |      */
  129 |     async fillAccountContactInfoWithDefaultValuesAndEmail(email: string) {
  130 |         await this.fillAccountContactInfo({
  131 |             email: email,
  132 |             password: '123456Asd!@#',
  133 |             firstName: 'Qa',
  134 |             lastName: 'UiAutomation',
  135 |             displayName: 'QaUiAutomation',
  136 |             title: 'DONT TOUCH',
  137 |             role: 'agent',
  138 |             address: '3562 SE Harrison St',
  139 |             city: 'Portland',
  140 |             state: 'Oregon',
  141 |             zip: '97214',
  142 |             country: 'United States',
  143 |             homePhone: '1001001002',
  144 |             cellPhone: '3055405076',
  145 |             officePhone: '1001001001',
  146 |             preferredPhone: 'agentCellPhone',
  147 |             enableSmsAlerts: true,
  148 |             smsAlertPhone: '+13055405076'
  149 |         });
  150 |     }
  151 |
  152 |     /**
  153 |      * Submit the form by clicking the Save Changes button
  154 |      */
  155 |     async saveChanges() {
  156 |         await this.saveChangesButton.click();
  157 |         
  158 |         // Wait for the "saving..." text to disappear from the button
  159 |         await expect(this.saveChangesButton.getByText('saving...')).toBeHidden({ timeout: 10000 });
  160 |         
  161 |         //await waitForPageToBeFullyLoaded(this.page);
  162 |     }
  163 |
  164 |     /**
  165 |      * Clicks the "View All" button to navigate to the Manage Agents page.
  166 |      * This is typically done after successfully saving a new agent.
  167 |      */
  168 |     async goToManageAgentsPage(): Promise<void> {
> 169 |         await this.viewAllButton.click();
      |                                  ^ TimeoutError: locator.click: Timeout 20000ms exceeded.
  170 |         await waitForPageToBeFullyLoaded(this.page);
  171 |     }
  172 | }
```