# Test info

- Name: Type of user: Client >> MW Menu: Account >> Sub-menu: Contacts >> Delete All Contacts - User: Client-Elite-1-Existing
- Location: /opt/atlassian/pipelines/agent/build/tests/specs/clients/account/contacts/contacts.spec.ts:28:21

# Error details

```
TimeoutError: locator.click: Timeout 20000ms exceeded.
Call log:
  - waiting for getByRole('button', { name: 'Yes' })

    at ManageContactsPage.deleteSelectedContacts (/opt/atlassian/pipelines/agent/build/tests/pages/client/account/contacts/ManageContactsPage.ts:58:36)
    at /opt/atlassian/pipelines/agent/build/tests/specs/clients/account/contacts/contacts.spec.ts:40:21
```

# Page snapshot

```yaml
- navigation:
  - link "IDX Broker":
    - /url: /mgmt/dashboard
    - img "IDX Broker"
  - list:
    - listitem:
      - text: Sandbox
      - strong: "Signed in as:"
      - text: Nic (3266)
    - listitem:
      - text: "12"
      - img
- text: Notifications
- button "Clear All"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: retail clients only - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- text: all clients - high
- button "Dismiss Notification":
  - img "Dismiss Notification"
- navigation:
  - list:
    - listitem: Home +
    - listitem: Leads +
    - listitem: Listings +
    - listitem: Messages +
    - listitem:
      - link "MLS":
        - /url: /mgmt/mls-membership
    - listitem: Design +
    - listitem: Account -
    - listitem: Support +
- text: Your account is past due. To maintain service, please update your billing
- link "here.":
  - /url: https://middleware.idxsandbox.com/mgmt/billing/edit
- heading "Contacts Manage account contacts" [level=1]
- link "Create Contact":
  - /url: /mgmt/contacts/create
- grid:
  - text: Show
  - combobox "Show entries":
    - option "10" [selected]
    - option "25"
    - option "50"
    - option "100"
  - text: "entries Search:"
  - textbox "Search:"
  - table:
    - rowgroup:
      - 'row "First Name: activate to sort column ascending Last Name: activate to sort column ascending Email: activate to sort column ascending Contact Type: activate to sort column descending Date Created: activate to sort column ascending Tools"':
        - columnheader:
          - checkbox [checked]
        - 'columnheader "First Name: activate to sort column ascending"': First Name
        - 'columnheader "Last Name: activate to sort column ascending"': Last Name
        - 'columnheader "Email: activate to sort column ascending"': Email
        - 'columnheader "Contact Type: activate to sort column descending"': Contact Type
        - 'columnheader "Date Created: activate to sort column ascending"': Date Created
        - columnheader "Tools"
    - alert:
      - row "Qa UiAutomation idxbqa@gmail.com Billing 05/05/25 06:16pm    ":
        - cell:
          - checkbox
        - cell "Qa"
        - cell "UiAutomation"
        - cell "idxbqa@gmail.com"
        - cell "Billing"
        - cell "05/05/25 06:16pm"
        - cell "   ":
          - link "":
            - /url: /mgmt/contacts/19669/edit
          - text:   
  - text: Showing 1 to 1 of 1 entries
  - list:
    - listitem:
      - link "← Previous":
        - /url: "#"
    - listitem:
      - link "1":
        - /url: "#"
    - listitem:
      - link "Next →":
        - /url: "#"
- paragraph:
  - text: "With selected:"
  - link "Delete Contacts":
    - /url: "#bulkActionForm"
- paragraph:
  - text: Services © 2025
  - link "IDX Broker":
    - /url: https://www.idxbroker.com
  - text: . All rights reserved.
```

# Test source

```ts
   1 | import { Page, Locator, expect } from '@playwright/test';
   2 | import { BasePage } from '../../../BasePage';
   3 | import { EnvConfig } from '../../../../../env/env';
   4 |
   5 | const envConfig = EnvConfig.get();
   6 |
   7 | export class ManageContactsPage extends BasePage {
   8 |   // Page elements as private properties
   9 |   private readonly contactsTable: Locator;
  10 |   private readonly selectAllCheckbox: Locator;
  11 |   private readonly deleteContactsLink: Locator;
  12 |   private readonly confirmDeleteButton: Locator;
  13 |   private readonly successMessage: Locator;
  14 |   private readonly showEntriesDropdown: Locator;
  15 |
  16 |   /**
  17 |    * Constructor initializes all page elements
  18 |    * @param page Playwright page object
  19 |    */
  20 |   constructor(page: Page) {
  21 |     super(page);
  22 |     this.contactsTable = page.locator('#contactListTable');
  23 |     this.selectAllCheckbox = page.locator('#checkAll');
  24 |     this.deleteContactsLink = page.getByRole('link', { name: 'Delete Contacts' });
  25 |     this.confirmDeleteButton = page.getByRole('button', { name: 'Yes' });
  26 |     this.successMessage = page.locator('#jGrowl');
  27 |     this.showEntriesDropdown = page.locator('[name="contactListTable_length"]');
  28 |   }
  29 |
  30 |   /**
  31 |    * Navigate to the manage contacts page
  32 |    */
  33 |   async navigateToManageContactsPage() {
  34 |     await this.page.locator('#idx-mw-navigation-bar').getByAltText('icon').click();
  35 |     await this.page.locator('span').filter({ hasText: /^Account$/ }).click();
  36 |     await this.page.getByRole('link', { name: 'Contacts' }).click();
  37 |   }
  38 |
  39 |   /**
  40 |    * Go to directly to the Create Lead page
  41 |    */
  42 |   async goto(){
  43 |     await this.page.goto(envConfig.MW_BASE_URL + '/mgmt/contacts');
  44 |   }
  45 |
  46 |   /**
  47 |    * Select all contacts using the checkbox in the header
  48 |    */
  49 |   async selectAllContacts(): Promise<void> {
  50 |     await this.selectAllCheckbox.check();
  51 |   }
  52 |
  53 |   /**
  54 |    * Delete all selected contacts
  55 |    */
  56 |   async deleteSelectedContacts(): Promise<void> {
  57 |     await this.deleteContactsLink.click();
> 58 |     await this.confirmDeleteButton.click();
     |                                    ^ TimeoutError: locator.click: Timeout 20000ms exceeded.
  59 |     
  60 |     // Wait for the deletion to complete
  61 |     await this.page.waitForSelector('#jGrowl', { state: 'visible' });
  62 |   }
  63 |
  64 |     /**
  65 |      * Verify a specific success message is shown in the jGrowl notification
  66 |      * @param expectedMessage The expected message text to verify
  67 |      */
  68 |     async verifySuccessMessage(): Promise<void> {
  69 |         // Wait for the jGrowl notification to appear
  70 |         await this.successMessage.waitFor({ state: 'visible' });
  71 |         
  72 |         // Verify the text matches what we expect
  73 |         await expect(this.successMessage).toContainText('All contacts you selected have been deleted.');
  74 |     }
  75 |   
  76 | }
```