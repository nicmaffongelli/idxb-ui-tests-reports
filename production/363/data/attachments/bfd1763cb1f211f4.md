# Test info

- Name: Visual validation of the Address Search Front Page - User: Client-Engage-1-Existing >> Visual validation of the Address Search Front Page
- Location: /opt/atlassian/pipelines/agent/build/src/tests/specs/frontEndPages/frontEndPages.spec.ts:10:13

# Error details

```
Error: expect(Buffer).toMatchSnapshot(expected)

  44 pixels (ratio 0.01 of all image pixels) are different.

Expected: /opt/atlassian/pipelines/agent/build/src/tests/specs/frontEndPages/frontEndPages.spec.ts-snapshots/production-Client-Engage-1-Existing-fe-advanced-search-Chrome-linux.png
Received: /opt/atlassian/pipelines/agent/build/test-results/specs-frontEndPages-frontE-cbb08-e-Address-Search-Front-Page-Chrome-retry1/production-Client-Engage-1-Existing-fe-advanced-search-actual.png
    Diff: /opt/atlassian/pipelines/agent/build/test-results/specs-frontEndPages-frontE-cbb08-e-Address-Search-Front-Page-Chrome-retry1/production-Client-Engage-1-Existing-fe-advanced-search-diff.png

    at PlaywrightScreenshotStrategy.compareScreenshot (/opt/atlassian/pipelines/agent/build/src/utils/screenshot-utils.ts:12:34)
    at Function.compareScreenshot (/opt/atlassian/pipelines/agent/build/src/utils/screenshot-utils.ts:50:47)
    at /opt/atlassian/pipelines/agent/build/src/tests/specs/frontEndPages/frontEndPages.spec.ts:19:35
```

# Page snapshot

```yaml
- button "Accessibility Menu":
  - img "Accessibility Menu"
- button "Accessibility Menu":
  - img "Accessibility Menu"
- button "Accessibility Menu":
  - img "Accessibility Menu"
- button "Accessibility Menu":
  - img "Accessibility Menu"
- button "Accessibility Menu":
  - img "Accessibility Menu"
- link "Click to skip to main content":
  - /url: "#welcome"
  - text: Skip to Main Content
- banner:
  - link "Dan Byers Coldwell Banker Realty Licensed in MD & PA":
    - /url: https://www.daniellbyers.com
    - heading "Dan Byers" [level=1]
    - heading "Coldwell Banker Realty" [level=1]
    - heading "Licensed in MD & PA" [level=2]
  - navigation:
    - list:
      - listitem:
        - link "My Sold Properties":
          - /url: https://daniellbyers.idxbroker.com/idx/soldpending
      - listitem:
        - link "Results":
          - /url: https://www.daniellbyers.com/what-my-clients-are-saying/
      - listitem:
        - link "Search Listings":
          - /url: https://daniellbyers.idxbroker.com/idx/search/basic
      - listitem:
        - link "Featured Listings":
          - /url: https://daniellbyers.idxbroker.com/idx/featured
      - listitem:
        - link "Selling":
          - /url: https://www.daniellbyers.com/selling/
      - listitem:
        - link "More":
          - /url: "#"
  - img
  - text: Location
  - textbox "Location"
  - list
  - status
  - text: Price Min
  - spinbutton "Price Min"
  - text: Price Max
  - spinbutton "Price Max"
  - text: Beds
  - spinbutton "Beds"
  - text: Baths
  - spinbutton "Baths"
  - button "Submit Search": Search
- article:
  - paragraph:
    - strong: If you would like more information or have questons contact me at Dan@HomesByDanByers.com or 717-781-3743
  - navigation:
    - link "Advanced Search":
      - /url: https://1126-1835.idxbroker.com/idx/search/advanced
    - link "Listing ID":
      - /url: https://1126-1835.idxbroker.com/idx/search/listingid
    - link "Address":
      - /url: https://1126-1835.idxbroker.com/idx/search/address
    - link "Map Search":
      - /url: https://1126-1835.idxbroker.com/idx/map/mapsearch
    - link "Basic Search":
      - /url: https://1126-1835.idxbroker.com/idx/search/basic
    - link "Email Update Signup":
      - /url: https://1126-1835.idxbroker.com/idx/search/emailupdatesignup
    - link "AI Smart Search":
      - /url: https://1126-1835.idxbroker.com/idx/search/smart
    - separator
  - text: City, County, Postal Code
  - combobox:
    - list:
      - listitem:
        - textbox "Select"
  - text: Min Price
  - combobox "$"
  - text: Max Price
  - combobox "$"
  - text: Property Type
  - combobox "Residential"
  - text: Property Sub Type
  - combobox:
    - list:
      - listitem:
        - textbox "Select"
  - text: Bedrooms
  - combobox "Any"
  - text: Bathrooms
  - combobox "Any"
  - text: SqFt
  - combobox "Any"
  - text: Acres
  - combobox "Any"
  - text: Price Reduction
  - combobox "Price reduced any"
  - text: Status
  - combobox:
    - list:
      - listitem:
        - textbox "Select"
  - text: Max Days Listed
  - combobox "Any"
  - text: Refinement
  - combobox:
    - list:
      - listitem:
        - textbox "Select"
  - text: Number of Results Per Page
  - combobox "Any"
  - text: Sort By
  - combobox "Any"
  - text: Advanced Fields Acres Acres Minimum Value
  - textbox "Acres Minimum Value"
  - text: to Acres Maximum Value
  - textbox "Acres Maximum Value"
  - text: SqFt SqFt Minimum Value
  - textbox "SqFt Minimum Value"
  - text: to SqFt Maximum Value
  - textbox "SqFt Maximum Value"
  - button "Search"
  - text: The content relating to real estate for sale on this web site comes in part from the IDX program of the RMLS™ of Portland, Oregon. Real estate listings held by brokerage firms other than 1126-1835 are marked with the RMLS™ logo, and detailed information about these properties includes the names of the listing brokers. Listing content is copyright © 2025 RMLS™, Portland, Oregon. This content last updated on Thursday, June 5th, 2025 at 09:57:59 AM. Some properties which appear for sale on this web site may subsequently have sold or may no longer be available. All information provided is deemed reliable but is not guaranteed and should be independently verified. Data services provided by
  - link "IDX Broker":
    - /url: https://www.idxbroker.com/
  - link "Facebook":
    - /url: /#facebook
  - link "X":
    - /url: /#x
  - link "LinkedIn":
    - /url: /#linkedin
  - link "WhatsApp":
    - /url: /#whatsapp
  - link "Copy Link":
    - /url: /#copy_link
  - link "Email":
    - /url: /#email
- complementary:
  - heading "Contact Me" [level=2]
  - paragraph: "* Required field."
  - text: First Name *
  - textbox "First Name *"
  - text: Last Name *
  - textbox "Last Name *"
  - text: Email Address *
  - textbox "Email Address *"
  - text: Home Phone
  - textbox "Home Phone"
  - text: Mobile Number
  - textbox "Mobile Number"
  - text: Comment
  - textbox "Comment"
  - button "Get in Touch"
- contentinfo:
  - heading "Dan Byers" [level=3]
  - heading "Coldwell Banker Realty" [level=3]
  - text: Licensed in MD & PA Coldwell Banker Realty
  - img "Phone number"
  - link "7177813743":
    - /url: tel:7177813743
  - list:
    - listitem:
      - link:
        - /url: https://linkedin.com/in/daniellbyers/
        - img
    - listitem:
      - link:
        - /url: https://www.instagram.com/daniel.l.byers
        - img
    - listitem:
      - link:
        - /url: http://www.facebook.com/110198118026849
        - img
  - list:
    - listitem:
      - link "Home":
        - /url: https://www.daniellbyers.com
    - listitem:
      - link "Blog":
        - /url: https://www.daniellbyers.com/blog/
    - listitem:
      - link "Contact":
        - /url: https://www.daniellbyers.com/contact/
    - listitem:
      - link "Accessibility page - opens in new tab":
        - /url: https://crm.ixactcontactwebsites.com/accessibility
        - text: Accessibility
    - listitem:
      - link "My Sold Properties":
        - /url: https://daniellbyers.idxbroker.com/idx/soldpending
    - listitem:
      - link "Results":
        - /url: https://www.daniellbyers.com/what-my-clients-are-saying/
    - listitem:
      - link "Search Listings":
        - /url: https://daniellbyers.idxbroker.com/idx/search/basic
    - listitem:
      - link "Featured Listings":
        - /url: https://daniellbyers.idxbroker.com/idx/featured
    - listitem:
      - link "Selling":
        - /url: https://www.daniellbyers.com/selling/
    - listitem:
      - link "Buying":
        - /url: https://www.daniellbyers.com/buying/
    - listitem:
      - link "Contact Me":
        - /url: https://services.ixactcontact.com/iXactIntegration/LeadCapture.aspx?pa1=X6vIltjrJnowUOJfNS06GA%3D%3D&pa2=nVH2zwXPSidcP6OVaVnfaw%3D%3D&pa3=5WLma8zB9p7UpvVnf%2FipLb%2F934l2nLrM
    - listitem:
      - link "About":
        - /url: https://www.daniellbyers.com/about/
    - listitem:
      - link "Blog":
        - /url: https://www.daniellbyers.com/blog/
  - img "compliance logo"
  - img "compliance logo"
  - img "compliance logo"
  - img "compliance logo"
  - img "compliance logo"
  - link "Accessibility page - opens in new tab":
    - /url: https://crm.ixactcontactwebsites.com/accessibility
    - img "ADA Site Compliance-Accessibility Policy"
  - paragraph:
    - text: Powered by
    - link "IXACT Contact® Real Estate CRM Software":
      - /url: http://ixactcontact.com
- text: Translate »
```

# Test source

```ts
   1 | import { expect } from '@playwright/test';
   2 | import { globalAndEnvironmentVariables } from '@fixtures/usersFixture';
   3 |
   4 | // Interface for screenshot comparison strategies
   5 | interface ScreenshotComparisonStrategy {
   6 |     compareScreenshot(screenshot: Buffer, baselineName: string): Promise<void>;
   7 | }
   8 |
   9 | // Playwright's built-in screenshot comparison strategy
  10 | export class PlaywrightScreenshotStrategy implements ScreenshotComparisonStrategy {
  11 |     async compareScreenshot(screenshot: Buffer, baselineName: string): Promise<void> {
> 12 |         await expect(screenshot).toMatchSnapshot(baselineName);
     |                                  ^ Error: expect(Buffer).toMatchSnapshot(expected)
  13 |     }
  14 | }
  15 |
  16 | // Example of how to add a new strategy in the future
  17 | class NewScreenshotStrategy implements ScreenshotComparisonStrategy {
  18 |     async compareScreenshot(screenshot: Buffer, baselineName: string): Promise<void> {
  19 |         // Implement your new comparison logic here
  20 |         // For example:
  21 |         // await someService.compare(screenshot, baselineName);
  22 |         // or
  23 |         // await customComparisonLogic(screenshot, baselineName);
  24 |     }
  25 | }
  26 |
  27 | // Main screenshot utility class
  28 | export class ScreenshotUtils {
  29 |     private static defaultStrategy: ScreenshotComparisonStrategy = new PlaywrightScreenshotStrategy();
  30 |     private static currentStrategy: ScreenshotComparisonStrategy = ScreenshotUtils.defaultStrategy;
  31 |
  32 |     // Method to change the comparison strategy
  33 |     public static setStrategy(strategy: ScreenshotComparisonStrategy): void {
  34 |         ScreenshotUtils.currentStrategy = strategy;
  35 |     }
  36 |
  37 |     // Method to reset to default strategy
  38 |     public static resetToDefaultStrategy(): void {
  39 |         ScreenshotUtils.currentStrategy = ScreenshotUtils.defaultStrategy;
  40 |     }
  41 |
  42 |     // Method to get current strategy
  43 |     public static getCurrentStrategy(): ScreenshotComparisonStrategy {
  44 |         return ScreenshotUtils.currentStrategy;
  45 |     }
  46 |
  47 |     // Method to compare screenshots with environment-specific baseline names
  48 |     public static async compareScreenshot(screenshot: Buffer, baselineName: string): Promise<void> {
  49 |         const environmentBaselineName = `${globalAndEnvironmentVariables.ENVIRONMENT}-${baselineName}`;
  50 |         await ScreenshotUtils.currentStrategy.compareScreenshot(screenshot, environmentBaselineName);
  51 |     }
  52 | } 
```