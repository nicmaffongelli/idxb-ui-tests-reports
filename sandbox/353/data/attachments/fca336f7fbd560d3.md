# Test info

- Name: Run these test in serial mode for each user >> Create Contact - User: Client-Engage-1-Existing
- Location: /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/07_account/07_contacts/contacts.spec.ts:15:13

# Error details

```
TimeoutError: locator.selectOption: Timeout 20000ms exceeded.
Call log:
  - waiting for getByLabel('Contact Type')
    - locator resolved to <select class="span4" id="contactDescription" name="contactDescription">…</select>
  - attempting select option action
    2 × waiting for element to be visible and enabled
      - element is not visible
    - retrying select option action
    - waiting 20ms
    2 × waiting for element to be visible and enabled
      - element is not visible
    - retrying select option action
      - waiting 100ms
    39 × waiting for element to be visible and enabled
       - element is not visible
     - retrying select option action
       - waiting 500ms

    at CreateEditContactPage.selectContactType (/opt/atlassian/pipelines/agent/build/src/page-objects/client/07_account/07_contacts/CreateEditContactPage.ts:54:36)
    at CreateEditContactPage.fillFormWithDefaultValues (/opt/atlassian/pipelines/agent/build/src/page-objects/client/07_account/07_contacts/CreateEditContactPage.ts:146:16)
    at /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/07_account/07_contacts/contacts.spec.ts:21:48
```

# Page snapshot

```yaml
- navigation:
  - link "IDX Broker":
    - /url: /mgmt/dashboard
    - img "IDX Broker"
  - list:
    - listitem
- text: Notifications
- strong: You’re all caught up! Keep an eye out for new notifications. We’ll post them here.
- navigation:
  - list:
    - listitem
    - listitem
    - listitem
- paragraph:
  - text: Services © 2025
  - link "IDX Broker":
    - /url: https://www.idxbroker.com
  - text: . All rights reserved.
```

# Test source

```ts
   1 | import { Page, Locator, expect, BasePage } from '@shared-client-imports';
   2 |
   3 | export class CreateEditContactPage extends BasePage {
   4 |   // Page elements as private properties
   5 |   private readonly contactTypeDropdown: Locator;
   6 |   private readonly primaryContactCheckbox: Locator;
   7 |   private readonly firstNameInput: Locator;
   8 |   private readonly lastNameInput: Locator;
   9 |   private readonly emailInput: Locator;
   10 |   private readonly additionalEmailInput: Locator;
   11 |   private readonly companyNameInput: Locator;
   12 |   private readonly phoneInput: Locator;
   13 |   private readonly additionalPhoneInput: Locator;
   14 |   private readonly faxInput: Locator;
   15 |   private readonly additionalContactInput: Locator;
   16 |   private readonly contactDescriptionInput: Locator;
   17 |   private readonly saveChangesButton: Locator;
   18 |   private readonly successMessage: Locator;
   19 |
   20 |   /**
   21 |    * Constructor initializes all page elements
   22 |    * @param page Playwright page object
   23 |    */
   24 |   constructor(page: Page) {
   25 |     super(page);
   26 |     this.contactTypeDropdown = page.getByLabel('Contact Type');
   27 |     this.primaryContactCheckbox = page.getByRole('checkbox', { name: 'Primary Contact' });
   28 |     this.firstNameInput = page.getByRole('textbox', { name: 'First Name*' });
   29 |     this.lastNameInput = page.getByRole('textbox', { name: 'Last Name*' });
   30 |     this.emailInput = page.getByRole('textbox', { name: 'Email*' });
   31 |     this.additionalEmailInput = page.getByRole('textbox', { name: 'Additional Email' });
   32 |     this.companyNameInput = page.getByRole('textbox', { name: 'Company Name' });
   33 |     this.phoneInput = page.getByRole('textbox', { name: 'Phone', exact: true });
   34 |     this.additionalPhoneInput = page.getByRole('textbox', { name: 'Additional Phone' });
   35 |     this.faxInput = page.getByRole('textbox', { name: 'Fax' });
   36 |     this.additionalContactInput = page.getByRole('textbox', { name: 'Additional Contact' });
   37 |     this.contactDescriptionInput = page.getByRole('textbox', { name: 'Contact Description' });
   38 |     this.saveChangesButton = page.getByRole('button', { name: 'Save Changes' });
   39 |     this.successMessage = page.locator('#jGrowl');
   40 |   }
   41 |
   42 |   /**
   43 |    * Go directly to the create lead page
   44 |    */
   45 |   async goto(){
   46 |     await this.page.goto(this.globalAndEnvironmentVariables.MW_BASE_URL + '/mgmt/contacts/create');
   47 |   }
   48 |
   49 |   /**
   50 |    * Select a contact type from the dropdown
   51 |    * @param contactType Type of contact: 'billing', 'designer', or 'manager'
   52 |    */
   53 |   async selectContactType(contactType: 'billing' | 'designer' | 'manager'): Promise<void> {
>  54 |     await this.contactTypeDropdown.selectOption(contactType);
      |                                    ^ TimeoutError: locator.selectOption: Timeout 20000ms exceeded.
   55 |   }
   56 |
   57 |   /**
   58 |    * Set the primary contact checkbox
   59 |    * @param isPrimary Whether this is a primary contact
   60 |    */
   61 |   async setPrimaryContact(isPrimary: boolean): Promise<void> {
   62 |     if (isPrimary) {
   63 |       await this.primaryContactCheckbox.check();
   64 |     } else {
   65 |       await this.primaryContactCheckbox.uncheck();
   66 |     }
   67 |   }
   68 |
   69 |   /**
   70 |    * Fill in the contact's name
   71 |    * @param firstName Contact's first name
   72 |    * @param lastName Contact's last name
   73 |    */
   74 |   async fillName(firstName: string, lastName: string): Promise<void> {
   75 |     await this.firstNameInput.fill(firstName);
   76 |     await this.lastNameInput.fill(lastName);
   77 |   }
   78 |
   79 |   /**
   80 |    * Fill in the contact's email addresses
   81 |    * @param email Primary email address
   82 |    * @param additionalEmail Optional secondary email address
   83 |    */
   84 |   async fillEmail(email: string, additionalEmail?: string): Promise<void> {
   85 |     await this.emailInput.fill(email);
   86 |     if (additionalEmail) {
   87 |       await this.additionalEmailInput.fill(additionalEmail);
   88 |     }
   89 |   }
   90 |
   91 |   /**
   92 |    * Set the company name
   93 |    * @param companyName The company name
   94 |    */
   95 |   async setCompanyName(companyName: string): Promise<void> {
   96 |     await this.companyNameInput.fill(companyName);
   97 |   }
   98 |
   99 |   /**
  100 |    * Fill in phone numbers
  101 |    * @param phone Primary phone number
  102 |    * @param additionalPhone Optional additional phone number
  103 |    * @param fax Optional fax number
  104 |    */
  105 |   async fillPhoneNumbers(phone: string, additionalPhone?: string, fax?: string): Promise<void> {
  106 |     await this.phoneInput.fill(phone);
  107 |     
  108 |     if (additionalPhone) {
  109 |       await this.additionalPhoneInput.fill(additionalPhone);
  110 |     }
  111 |     
  112 |     if (fax) {
  113 |       await this.faxInput.fill(fax);
  114 |     }
  115 |   }
  116 |
  117 |   /**
  118 |    * Set additional contact information
  119 |    * @param additionalContact Additional contact information
  120 |    * @param description Description of the additional contact
  121 |    */
  122 |   async setAdditionalContactInfo(additionalContact: string, description: string): Promise<void> {
  123 |     await this.additionalContactInput.fill(additionalContact);
  124 |     await this.contactDescriptionInput.fill(description);
  125 |   }
  126 |
  127 |   /**
  128 |    * Save the contact form changes
  129 |    */
  130 |   async saveContact(): Promise<void> {
  131 |     await this.saveChangesButton.click();
  132 |   }
  133 |
  134 |   /**
  135 |    * Verify message that the contact was saved successfully
  136 |    */
  137 |   async verifySuccessMessage(): Promise<void> {
  138 |     await expect(this.successMessage).toContainText('Contact has been created successfully.');
  139 |   }
  140 |
  141 |   /**
  142 |    * Fill the form with default values
  143 |    */
  144 |   async fillFormWithDefaultValues(): Promise<void> {
  145 |     // Set contact type (we'll use 'billing' as the final value from the recording)
  146 |     await this.selectContactType('billing');
  147 |     
  148 |     // Toggle primary contact checkbox (off according to recording)
  149 |     await this.setPrimaryContact(false);
  150 |     
  151 |     // Fill name fields
  152 |     await this.fillName('Qa', 'UiAutomation');
  153 |     
  154 |     // Fill email fields
```