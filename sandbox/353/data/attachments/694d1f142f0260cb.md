# Test info

- Name: User: Client-Engage-1-Existing >> Save Map Settings - User: Client-Engage-1-Existing
- Location: /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/06_design/04_settings/01_global/globalPreferences.spec.ts:29:13

# Error details

```
TimeoutError: locator.dblclick: Timeout 20000ms exceeded.
Call log:
  - waiting for getByRole('link', { name: 'Map' })

    at GlobalPreferencesPage.navigateToMapTab (/opt/atlassian/pipelines/agent/build/src/page-objects/client/06_design/04_settings/01_global/GlobalPreferencesPage.ts:78:27)
    at /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/06_design/04_settings/01_global/globalPreferences.spec.ts:31:48
```

# Page snapshot

```yaml
- navigation:
  - link "IDX Broker":
    - /url: /mgmt/dashboard
    - img "IDX Broker"
  - list:
    - listitem
- text: Notifications
- strong: You’re all caught up! Keep an eye out for new notifications. We’ll post them here.
- navigation:
  - list:
    - listitem
    - listitem
    - listitem
- paragraph:
  - text: Services © 2025
  - link "IDX Broker":
    - /url: https://www.idxbroker.com
  - text: . All rights reserved.
- status
```

# Test source

```ts
   1 | import { Page, Locator, expect, BasePage } from '@shared-client-imports';
   2 | import { DetailsTabPage } from './DetailsTabPage';
   3 | import { EmailSettingsTabPage } from './EmailSettingsTabPage';
   4 | import { MapTabPage } from './MapTabPage';
   5 | import { SearchTabPage } from './SearchTabPage';
   6 | import { YourPropertiesTabPage } from './YourPropertiesTabPage';
   7 |
   8 | export class GlobalPreferencesPage extends BasePage {
   9 |     // Tab navigation elements
   10 |     private readonly resultsTab: Locator;
   11 |     private readonly mapTab: Locator;
   12 |     private readonly propertiesTab: Locator;
   13 |     private readonly socialTab: Locator;
   14 |     private readonly mobileTab: Locator;
   15 |     private readonly otherTab: Locator;
   16 |     
   17 |     // Form save buttons for each tab
   18 |     private readonly resultsSaveButton: Locator;
   19 |     private readonly socialSaveButton: Locator;
   20 |     private readonly mobileSaveButton: Locator;
   21 |     private readonly otherSaveButton: Locator;
   22 |     
   23 |     // Results tab elements
   24 |     private readonly resultsPerPageSelect: Locator;
   25 |     
   26 |     // Notification element
   27 |     private readonly notificationMessage: Locator;
   28 |
   29 |     // Tab page objects
   30 |     public readonly detailsTabPage: DetailsTabPage;
   31 |     public readonly emailSettingsTabPage: EmailSettingsTabPage;
   32 |     public readonly mapTabPage: MapTabPage;
   33 |     public readonly searchTabPage: SearchTabPage;
   34 |     public readonly yourPropertiesTabPage: YourPropertiesTabPage;
   35 |
   36 |     constructor(page: Page) {
   37 |         super(page);
   38 |         
   39 |         // Initialize tab page objects
   40 |         this.detailsTabPage = new DetailsTabPage(page);
   41 |         this.emailSettingsTabPage = new EmailSettingsTabPage(page);
   42 |         this.mapTabPage = new MapTabPage(page);
   43 |         this.searchTabPage = new SearchTabPage(page);
   44 |         this.yourPropertiesTabPage = new YourPropertiesTabPage(page);
   45 |         
   46 |         // Tab navigation elements
   47 |         this.resultsTab = page.getByRole('link', { name: 'Results' });
   48 |         this.mapTab = page.getByRole('link', { name: 'Map' });
   49 |         this.propertiesTab = page.getByRole('link', { name: 'Your Properties' });
   50 |         this.socialTab = page.getByRole('link', { name: 'Social' });
   51 |         this.mobileTab = page.getByRole('link', { name: 'Mobile' });
   52 |         this.otherTab = page.getByRole('link', { name: 'Other' });
   53 |         
   54 |         // Form save buttons for each tab
   55 |         this.resultsSaveButton = page.locator('#results-form button.btn-primary');
   56 |         this.socialSaveButton = page.locator('#social-form button.btn-primary');
   57 |         this.mobileSaveButton = page.locator('#mobile-form button.btn-primary');
   58 |         this.otherSaveButton = page.locator('#other-form button.btn-primary');
   59 |         
   60 |         // Results tab elements
   61 |         this.resultsPerPageSelect = page.locator('#resultsPerPage');
   62 |         
   63 |         // Notification element
   64 |         this.notificationMessage = page.locator('#jGrowl');
   65 |     }
   66 |
   67 |     /**
   68 |      * Navigate directly to the Global Preferences page
   69 |      */
   70 |     async goto(): Promise<void> {
   71 |         await this.page.goto(this.globalAndEnvironmentVariables.MW_BASE_URL + '/mgmt/preferences');
   72 |     }
   73 |      
   74 |     /**
   75 |      * Navigate to the Map tab
   76 |      */
   77 |     async navigateToMapTab(): Promise<void> {
>  78 |         await this.mapTab.dblclick();
      |                           ^ TimeoutError: locator.dblclick: Timeout 20000ms exceeded.
   79 |     }
   80 |     
   81 |     /**
   82 |      * Navigate to the Results tab
   83 |      */
   84 |     async navigateToResultsTab(): Promise<void> {
   85 |         await this.resultsTab.dblclick();
   86 |     }
   87 |     
   88 |     /**
   89 |      * Navigate to the Properties tab
   90 |      */
   91 |     async navigateToPropertiesTab(): Promise<void> {
   92 |         await this.propertiesTab.dblclick();
   93 |     }
   94 |     
   95 |     /**
   96 |      * Navigate to the Social tab
   97 |      */
   98 |     async navigateToSocialTab(): Promise<void> {
   99 |         await this.socialTab.dblclick();
  100 |     }
  101 |
  102 |     /**
  103 |      * Navigate to the Mobile tab
  104 |      */
  105 |     async navigateToMobileTab(): Promise<void> {
  106 |         await this.mobileTab.dblclick();
  107 |     }
  108 |
  109 |     /**
  110 |      * Navigate to the Other tab
  111 |      */
  112 |     async navigateToOtherTab(): Promise<void> {
  113 |         await this.otherTab.dblclick();
  114 |     }
  115 |     
  116 |     /**
  117 |      * Set "Default Number of Properties Per Page" to a specific value
  118 |      * @param value The value to set (5, 10, 25, 50, or 100)
  119 |      */
  120 |     async setDefaultPropertiesPerPage(value: string): Promise<void> {
  121 |         await this.resultsPerPageSelect.selectOption(value);
  122 |     }
  123 |     
  124 |     /**
  125 |      * Save results tab settings and verify success message
  126 |      */
  127 |     async saveResultsSettings(): Promise<void> {
  128 |         await this.resultsSaveButton.click();
  129 |         await this.verifySuccessMessage('Results Page Settings have been saved.');
  130 |     }
  131 |     
  132 |     /**
  133 |      * Save social tab settings and verify success message
  134 |      */
  135 |     async saveSocialSettings(): Promise<void> {
  136 |         await this.socialTab.click();
  137 |         await this.socialSaveButton.click();
  138 |         await this.verifySuccessMessage('Social Settings have been saved.');
  139 |     }
  140 |     
  141 |     /**
  142 |      * Save mobile tab settings and verify success message
  143 |      */
  144 |     async saveMobileSettings(): Promise<void> {
  145 |         await this.mobileTab.click();
  146 |         await this.mobileSaveButton.click();
  147 |         await this.verifySuccessMessage('Settings have been saved.');
  148 |     }
  149 |     
  150 |     /**
  151 |      * Save other tab settings and verify success message
  152 |      */
  153 |     async saveOtherSettings(): Promise<void> {
  154 |         await this.otherTab.click();
  155 |         await this.otherSaveButton.click();
  156 |         await this.verifySuccessMessage('Other Settings have been saved.');
  157 |     }
  158 |     
  159 |     /**
  160 |      * Save all tab settings sequentially
  161 |      */
  162 |     async saveAllSettings(): Promise<void> {
  163 |         await this.searchTabPage.saveSearchSettings();
  164 |         await this.saveResultsSettings();
  165 |         await this.mapTabPage.saveMapSettings();
  166 |         await this.yourPropertiesTabPage.savePropertiesSettings();
  167 |         await this.emailSettingsTabPage.saveEmailSettings();
  168 |         await this.saveSocialSettings();
  169 |         await this.saveMobileSettings();
  170 |         await this.saveOtherSettings();
  171 |     }
  172 |     
  173 |     /**
  174 |      * Verify success message after saving settings
  175 |      * @param expectedMessage The expected success message text
  176 |      */
  177 |     private async verifySuccessMessage(expectedMessage: string): Promise<void> {
  178 |         await expect(this.notificationMessage).toContainText(expectedMessage);
```