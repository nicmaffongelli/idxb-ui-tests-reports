# Test info

- Name: Sub-menu: Create >> Create Lead - User: Client-Engage-1-Existing
- Location: /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/02_leads/leads.spec.ts:14:13

# Error details

```
TimeoutError: locator.fill: Timeout 20000ms exceeded.
Call log:
  - waiting for getByRole('textbox', { name: 'First Name*' })

    at CreateLeadPage.fillContactInformation (/opt/atlassian/pipelines/agent/build/src/page-objects/client/02_leads/CreateLeadPage.ts:89:35)
    at CreateLeadPage.fillContactInformationWithDefaultValuesAndEmailAddress (/opt/atlassian/pipelines/agent/build/src/page-objects/client/02_leads/CreateLeadPage.ts:107:20)
    at /opt/atlassian/pipelines/agent/build/src/tests/specs/clients/02_leads/leads.spec.ts:20:41
```

# Page snapshot

```yaml
- navigation:
  - link "IDX Broker":
    - /url: /mgmt/dashboard
    - img "IDX Broker"
  - list:
    - listitem
- text: Notifications
- strong: You’re all caught up! Keep an eye out for new notifications. We’ll post them here.
- navigation:
  - list:
    - listitem
    - listitem
    - listitem
- paragraph:
  - text: Services © 2025
  - link "IDX Broker":
    - /url: https://www.idxbroker.com
  - text: . All rights reserved.
```

# Test source

```ts
   1 | import { Page, Locator, BasePage, expect } from '@shared-client-imports';
   2 |
   3 | interface LeadContactInfo {
   4 |     firstName: string;
   5 |     lastName: string;
   6 |     primaryEmail: string;
   7 |     additionalEmail?: string;
   8 |     phone?: string;
   9 |     address: string;
   10 |     city: string;
   11 |     state: string;
   12 |     zipCode: string;
   13 |     country: string;
   14 | }
   15 |
   16 | interface LeadAccountSettings {
   17 |     emailFormat?: 'HTML' | 'Text';
   18 |     assignedAgent?: string;
   19 |     category?: string;
   20 |     isDisabled: boolean;
   21 |     canLogin: boolean;
   22 |     receiveUpdates: boolean;
   23 |     autoLoginFromEmails: boolean;
   24 | }
   25 |
   26 | export class CreateLeadPage extends BasePage {
   27 |     // Form fields - Account/Contact Information
   28 |     private readonly firstNameInput: Locator;
   29 |     private readonly lastNameInput: Locator;
   30 |     private readonly primaryEmailInput: Locator;
   31 |     private readonly additionalEmailInput: Locator;
   32 |     private readonly phoneInput: Locator;
   33 |     private readonly addressInput: Locator;
   34 |     private readonly cityInput: Locator;
   35 |     private readonly stateInput: Locator;
   36 |     private readonly zipCodeInput: Locator;
   37 |     private readonly countryInput: Locator;
   38 |
   39 |     // Account Settings
   40 |     private readonly emailFormatSelect: Locator;
   41 |     private readonly assignedAgentSelect: Locator;
   42 |     private readonly categorySelect: Locator;
   43 |     private readonly accountDisabledYes: Locator;
   44 |     private readonly accountDisabledNo: Locator;
   45 |     private readonly canLoginYes: Locator;
   46 |     private readonly canLoginNo: Locator;
   47 |     private readonly receiveUpdatesYes: Locator;
   48 |     private readonly receiveUpdatesNo: Locator;
   49 |     private readonly autoLoginYes: Locator;
   50 |     private readonly autoLoginNo: Locator;
   51 |     private readonly saveButton: Locator;
   52 |     private readonly successMessage: Locator;
   53 |
   54 |     constructor(page: Page) {
   55 |         super(page);
   56 |         // Initialize all locators
   57 |         this.firstNameInput = page.getByRole('textbox', { name: 'First Name*' });
   58 |         this.lastNameInput = page.getByRole('textbox', { name: 'Last Name' });
   59 |         this.primaryEmailInput = page.getByRole('textbox', { name: 'Primary Email Address*' });
   60 |         this.additionalEmailInput = page.getByRole('textbox', { name: 'Additional Email Address' });
   61 |         this.phoneInput = page.getByRole('textbox', { name: 'Phone #' });
   62 |         this.addressInput = page.getByRole('textbox', { name: 'Address', exact: true });
   63 |         this.cityInput = page.getByRole('textbox', { name: 'City' });
   64 |         this.stateInput = page.getByRole('textbox', { name: 'State/Province' });
   65 |         this.zipCodeInput = page.getByRole('textbox', { name: 'Zip Code' });
   66 |         this.countryInput = page.getByRole('textbox', { name: 'Country' });
   67 |
   68 |         // Account Settings locators
   69 |         this.emailFormatSelect = page.locator('select').first();
   70 |         this.assignedAgentSelect = page.locator('select').nth(1);
   71 |         this.categorySelect = page.locator('select').nth(2);
   72 |         this.accountDisabledYes = page.locator('#disabled-0');
   73 |         this.accountDisabledNo = page.locator('#disabled-1');
   74 |         this.canLoginYes = page.locator('#canLogin-1');
   75 |         this.canLoginNo = page.locator('#canLogin-0');
   76 |         this.receiveUpdatesYes = page.locator('#receiveUpdates-1');
   77 |         this.receiveUpdatesNo = page.locator('#receiveUpdates-0');
   78 |         this.autoLoginYes = page.locator('#emailUpdatesAutoLogin-1');
   79 |         this.autoLoginNo = page.locator('#emailUpdatesAutoLogin-0');
   80 |         this.saveButton = page.getByRole('button', { name: 'Save Changes' });
   81 |         this.successMessage = page.locator('#jGrowl');
   82 |     }
   83 |
   84 |     async goto() {
   85 |         await this.page.goto( this.globalAndEnvironmentVariables.MW_BASE_URL + '/mgmt/leads/create');
   86 |     }
   87 |
   88 |     async fillContactInformation(info: LeadContactInfo) {
>  89 |         await this.firstNameInput.fill(info.firstName);
      |                                   ^ TimeoutError: locator.fill: Timeout 20000ms exceeded.
   90 |         await this.lastNameInput.fill(info.lastName);
   91 |         await this.primaryEmailInput.fill(info.primaryEmail);
   92 |         if (info.additionalEmail) {
   93 |             await this.additionalEmailInput.fill(info.additionalEmail);
   94 |         }
   95 |         if (info.phone) {
   96 |             await this.phoneInput.fill(info.phone);
   97 |         }
   98 |         await this.addressInput.fill(info.address);
   99 |         await this.cityInput.fill(info.city);
  100 |         await this.stateInput.fill(info.state);
  101 |         await this.zipCodeInput.fill(info.zipCode);
  102 |         await this.countryInput.fill(info.country);
  103 |     }
  104 |
  105 |     async fillContactInformationWithDefaultValuesAndEmailAddress(emailAddress: string) {
  106 |         
  107 |         await this.fillContactInformation({
  108 |             firstName: 'QaTesting',
  109 |             lastName: 'UiAutomation',
  110 |             primaryEmail: emailAddress,
  111 |             additionalEmail: emailAddress,
  112 |             phone: '1001001000',
  113 |             address: '3562 SE Harrison St',
  114 |             city: 'Portland',
  115 |             state: 'Oregon',
  116 |             zipCode: '97214',
  117 |             country: 'United States'
  118 |         });
  119 |     }
  120 |
  121 |     async configureAccountSettings(settings: LeadAccountSettings) {
  122 |         if (settings.emailFormat) {
  123 |             await this.emailFormatSelect.selectOption(settings.emailFormat);
  124 |         }
  125 |         if (settings.assignedAgent) {
  126 |             await this.assignedAgentSelect.selectOption(settings.assignedAgent);
  127 |         }
  128 |         if (settings.category) {
  129 |             await this.categorySelect.selectOption(settings.category);
  130 |         }
  131 |
  132 |         await (settings.isDisabled ? this.accountDisabledYes : this.accountDisabledNo).check();
  133 |         await (settings.canLogin ? this.canLoginYes : this.canLoginNo).check();
  134 |         await (settings.receiveUpdates ? this.receiveUpdatesYes : this.receiveUpdatesNo).check();
  135 |         await (settings.autoLoginFromEmails ? this.autoLoginYes : this.autoLoginNo).check();
  136 |     }
  137 |
  138 |     async saveLead() {
  139 |         await this.saveButton.click();
  140 |         await expect(this.successMessage).toContainText('All the initial lead information has been saved.');
  141 |     }
  142 |
  143 | }
```